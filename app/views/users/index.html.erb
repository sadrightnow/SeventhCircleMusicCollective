<h1 class="user-list-page-heading">Users</h1>

<table class="user-list-table">
  <thead>
    <tr>
      <th>Email</th>
      <th>Admin</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td class="user-email-cell"><%= user.email %></td>
        <td class="user-admin-cell">
          <%= user.admin? ? "Yes" : "No" %>
        </td>
        <td class="user-actions-cell">
          <%= button_to 'Delete', user_path(user), method: :delete, data: { confirm: "Are you sure you want to delete this user?" }, class: 'user-action-button-delete' %>
          <%= button_to user.admin? ? 'Revoke Admin' : 'Make Admin', toggle_admin_user_path(user), method: :patch, class: 'user-action-button' %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to 'Back to Dashboard', root_path, class: 'user-back-to-dashboard-link' %>

<h1 class="user-invite-heading">Invite a User</h1>

<%= form_with url: invite_users_path, method: :post, local: true, class: 'user-invite-form' do |form| %>
  <div class="user-invite-form-group">
    <%= form.label :email, "Email", class: 'user-invite-label' %>
    <%= form.email_field :email, required: true, class: 'user-invite-email-field' %>
  </div>
  <div class="user-invite-form-group">
    <%= form.submit "Send Invitation", class: 'user-invite-submit-button' %>
  </div>
<% end %>
